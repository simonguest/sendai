import"./modulepreload-polyfill-B5Qt9EMX.js";import{f as Ie,d as D,c as I,W as $,X as f,Y as c,A as n,Z as v,V as S,N as _,B as Qe,_ as ut,r as T,w as O,g as De,o as H,$ as N,a0 as V,F as te,a1 as de,u as x,M as dt,R as mt,n as Z,a2 as Ve,a3 as pt,a4 as ft,a5 as gt}from"./@vue-SQFZV1zj.js";import{V as P,a as et,b as tt,c as re,d as ne,e as A,f as R,g as F,h as Ue,i as G,j as Q,k as me,l as Ae,m as pe,n as Re,o as Fe,p as he,q as bt,r as vt,s as Ne,t as ht,u as _t,v as _e,w as kt,x as ke,y as ee,z as ce,A as se,B as Pe,C as ot,D as yt,E as wt,F as Ct,G as xt,H as St,I as Et}from"./vuetify-l9oRW0VW.js";import{u as Be,a as at,c as Nt,b as Lt}from"./vue-router-BGXlbkO3.js";import{v as q}from"./uuid-C6aID195.js";import{m as $t}from"./marked-DKjyhwJX.js";import{z as X,H as lt,s as rt,E as Tt,A as It}from"./@codemirror-DLu3zILg.js";import{b as Dt}from"./codemirror-BG8Os8gr.js";import{c as s}from"./@lezer-C8D-pblS.js";import{R as Vt}from"./@videojs-player-CuOeCcZy.js";import"./video.js-BzFRggUd.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./global-Ao-oLW3a.js";import"./@babel-CCFhuYdL.js";import"./keycode-COWoYAhk.js";import"./safe-json-parse-CN2GHVL4.js";import"./@videojs-B_-B0e53.js";import"./is-function-C0BzV8h3.js";import"./url-toolkit-Dcj1b7Pi.js";import"./videojs-vtt.js-DcT8v0yT.js";import"./m3u8-parser-CpICl_Sf.js";import"./mpd-parser-CVldHi6R.js";import"./@xmldom-BH8vc9mM.js";import"./mux.js-BqethXN8.js";const Ut=["en-US","ja-JP","hi-IN","fa-IR"],At="en-US",fe={"en-US":{direction:"ltr",name:"English (US)"},"ja-JP":{direction:"ltr",name:"日本語"},"hi-IN":{direction:"ltr",name:"हिन्दी"},"fa-IR":{direction:"rtl",name:"فارسی"}},Rt={"en-US":{light:"Light",dark:"Dark"},"ja-JP":{light:"ライト",dark:"ダーク"},"hi-IN":{light:"हल्का",dark:"गहरा"},"fa-IR":{light:"روشن",dark:"تیره"}},Ft={"en-US":{notebooks:"Notebooks",curriculum:"Curriculum",settings:"Settings"},"ja-JP":{notebooks:"ノートブック",curriculum:"カリキュラム",settings:"設定"},"hi-IN":{notebooks:"नोटबुक",curriculum:"पाठ्यक्रम",settings:"सेटिंग्स"},"fa-IR":{notebooks:"دفترچه‌ها",curriculum:"برنامه درسی",settings:"تنظیمات"}},ge={"en-US":{title:"Notebooks",addNotebook:"Add",blank:"Blank",fromTemplate:"From template",fromFile:"From File",fromUrl:"From URL",delete:"Delete",lastEdited:"Last edited",back:"Back",notebookViewer:"Notebook Viewer",saved:"Saved",saving:"Saving...",saveError:"Save Error",loadingNotebook:"Loading notebook...",failedToLoad:"Failed to load notebook",backToNotebooks:"Back to Notebooks",untitledNotebook:"Untitled Notebook",justNow:"Just now",hoursAgo:"hours ago",hourAgo:"hour ago",daysAgo:"days ago",dayAgo:"day ago",urlDialogTitle:"Import from URL",urlDialogLabel:"Enter notebook URL",urlDialogOpen:"Open",urlDialogCancel:"Close",urlDialogError:"Error",urlDialogErrorMessage:"Failed to fetch notebook from URL",urlDialogInvalidUrl:"Please enter a valid URL (must start with http:// or https://)"},"ja-JP":{title:"ノートブック",addNotebook:"追加",blank:"空白",fromTemplate:"テンプレートから",fromFile:"ファイルから",fromUrl:"URLから",delete:"削除",lastEdited:"最終編集",back:"戻る",notebookViewer:"ノートブックビューア",saved:"保存済み",saving:"保存中...",saveError:"保存エラー",loadingNotebook:"ノートブックを読み込み中...",failedToLoad:"ノートブックの読み込みに失敗しました",backToNotebooks:"ノートブックに戻る",untitledNotebook:"無題のノートブック",justNow:"たった今",hoursAgo:"時間前",hourAgo:"時間前",daysAgo:"日前",dayAgo:"日前",urlDialogTitle:"URLからインポート",urlDialogLabel:"ノートブックのURLを入力",urlDialogOpen:"開く",urlDialogCancel:"閉じる",urlDialogError:"エラー",urlDialogErrorMessage:"URLからノートブックを取得できませんでした",urlDialogInvalidUrl:"有効なURLを入力してください（http://またはhttps://で始まる必要があります）"},"hi-IN":{title:"नोटबुक",addNotebook:"जोड़ें",blank:"खाली",fromTemplate:"टेम्प्लेट से",fromFile:"फ़ाइल से",fromUrl:"URL से",delete:"हटाएं",lastEdited:"अंतिम संपादन",back:"वापस",notebookViewer:"नोटबुक व्यूअर",saved:"सहेजा गया",saving:"सहेज रहे हैं...",saveError:"सहेजने में त्रुटि",loadingNotebook:"नोटबुक लोड हो रहा है...",failedToLoad:"नोटबुक लोड करने में विफल",backToNotebooks:"नोटबुक पर वापस जाएं",untitledNotebook:"बिना शीर्षक नोटबुक",justNow:"अभी",hoursAgo:"घंटे पहले",hourAgo:"घंटा पहले",daysAgo:"दिन पहले",dayAgo:"दिन पहले",urlDialogTitle:"URL से आयात करें",urlDialogLabel:"नोटबुक URL दर्ज करें",urlDialogOpen:"खोलें",urlDialogCancel:"बंद करें",urlDialogError:"त्रुटि",urlDialogErrorMessage:"URL से नोटबुक प्राप्त करने में विफल",urlDialogInvalidUrl:"कृपया एक वैध URL दर्ज करें (http:// या https:// से शुरू होना चाहिए)"},"fa-IR":{title:"دفترچه‌ها",addNotebook:"افزودن",blank:"خالی",fromTemplate:"از قالب",fromFile:"از فایل",fromUrl:"از URL",delete:"حذف",lastEdited:"آخرین ویرایش",back:"بازگشت",notebookViewer:"نمایشگر دفترچه",saved:"ذخیره شد",saving:"در حال ذخیره...",saveError:"خطا در ذخیره",loadingNotebook:"در حال بارگذاری دفترچه...",failedToLoad:"بارگذاری دفترچه ناموفق بود",backToNotebooks:"بازگشت به دفترچه‌ها",untitledNotebook:"دفترچه بدون عنوان",justNow:"همین الان",hoursAgo:"ساعت پیش",hourAgo:"ساعت پیش",daysAgo:"روز پیش",dayAgo:"روز پیش",urlDialogTitle:"وارد کردن از URL",urlDialogLabel:"URL دفترچه را وارد کنید",urlDialogOpen:"باز کردن",urlDialogCancel:"بستن",urlDialogError:"خطا",urlDialogErrorMessage:"دریافت دفترچه از URL ناموفق بود",urlDialogInvalidUrl:"لطفاً یک URL معتبر وارد کنید (باید با http:// یا https:// شروع شود)"}},Bt={"en-US":{title:"Settings",appearance:"Appearance",language:"Language",about:"About",theme:"Theme",version:"Version",appName:"K12 Notebook - Web Shell"},"ja-JP":{title:"設定",appearance:"外観",language:"言語",about:"について",theme:"テーマ",version:"バージョン",appName:"K12ノートブック - ウェブシェル"},"hi-IN":{title:"सेटिंग्स",appearance:"दिखावट",language:"भाषा",about:"के बारे में",theme:"थीम",version:"संस्करण",appName:"K12 नोटबुक - वेब शेल"},"fa-IR":{title:"تنظیمات",appearance:"ظاهر",language:"زبان",about:"درباره",theme:"تم",version:"نسخه",appName:"دفترچه K12 - پوسته وب"}},nt={"en-US":{notebookStarting:"The notebook is starting up...",notebookStartError:"The notebook could not be started because of an error:",inputDialogTitle:"Enter Input",inputDialogLabel:"Input",inputDialogCancel:"Cancel",inputDialogSubmit:"Submit"},"ja-JP":{notebookStarting:"ノートブックを起動中...",notebookStartError:"エラーのためノートブックを起動できませんでした:",inputDialogTitle:"入力してください",inputDialogLabel:"入力",inputDialogCancel:"キャンセル",inputDialogSubmit:"送信"},"hi-IN":{notebookStarting:"नोटबुक शुरू हो रहा है...",notebookStartError:"त्रुटि के कारण नोटबुक शुरू नहीं हो सका:",inputDialogTitle:"इनपुट दर्ज करें",inputDialogLabel:"इनपुट",inputDialogCancel:"रद्द करें",inputDialogSubmit:"जमा करें"},"fa-IR":{notebookStarting:"دفترچه در حال راه‌اندازی است...",notebookStartError:"دفترچه به دلیل خطا راه‌اندازی نشد:",inputDialogTitle:"ورودی را وارد کنید",inputDialogLabel:"ورودی",inputDialogCancel:"لغو",inputDialogSubmit:"ارسال"}},Mt=["light","dark"],Pt="dark",U=Ie({theme:localStorage.getItem("theme")||Pt,locale:localStorage.getItem("locale")||At,setTheme(a){this.theme=a,localStorage.setItem("theme",a)},setLocale(a){this.locale=a,localStorage.setItem("locale",a)}}),Ot={class:"d-flex justify-end mb-2"},zt={class:"d-flex align-center"},jt={class:"flex-grow-1"},Ht={class:"text-h6 mb-1"},Wt={class:"text-caption text-medium-emphasis mb-0"},qt=D({__name:"NotebookCard",props:{notebook:{}},emits:["delete"],setup(a,{emit:e}){const o=a,t=e,l=Be(),r=I(()=>ge[U.locale]),d=i=>{const g=Math.floor((new Date().getTime()-i.getTime())/(1e3*60*60));if(g<1)return r.value.justNow;if(g<24){const k=g===1?r.value.hourAgo:r.value.hoursAgo;return`${g} ${k}`}else{const k=Math.floor(g/24),y=k===1?r.value.dayAgo:r.value.daysAgo;return`${k} ${y}`}},u=()=>{l.push(`/notebooks/${o.notebook.id}`)},m=()=>{t("delete",o.notebook.id)};return(i,h)=>(f(),$(F,{class:"notebook-card",hover:"",onClick:u},{default:c(()=>[n(P,{class:"pb-2"},{default:c(()=>[v("div",Ot,[n(et,null,{activator:c(({props:g})=>[n(A,Qe({icon:"mdi-dots-vertical",variant:"text",size:"small"},g,{onClick:h[0]||(h[0]=ut(()=>{},["stop"]))}),null,16)]),default:c(()=>[n(tt,null,{default:c(()=>[n(re,{onClick:m},{default:c(()=>[n(ne,null,{default:c(()=>[S(_(r.value.delete),1)]),_:1})]),_:1})]),_:1})]),_:1})]),v("div",zt,[n(R,{icon:"mdi-notebook-outline",size:"large",color:"primary",class:"me-3"}),v("div",jt,[v("h3",Ht,_(i.notebook.title),1),v("p",Wt,_(r.value.lastEdited)+": "+_(d(i.notebook.lastModified||i.notebook.created)),1)])])]),_:1})]),_:1}))}}),z=(a,e)=>{const o=a.__vccOpts||a;for(const[t,l]of e)o[t]=l;return o},Jt=z(qt,[["__scopeId","data-v-3a1233ae"]]),Kt="NotebookDB",B="notebooks",Gt=2,be=async()=>new Promise((a,e)=>{const o=indexedDB.open(Kt,Gt);o.onerror=()=>e(o.error),o.onsuccess=()=>a(o.result),o.onupgradeneeded=t=>{const l=o.result;if(l.objectStoreNames.contains(B)){if(t.oldVersion<2){const r=o.transaction;if(r){const d=r.objectStore(B);d.openCursor().onsuccess=u=>{const m=u.target.result;if(m){const i=m.value;i.created||(i.created=i.lastModified||Date.now(),m.update(i)),m.continue()}}}}}else{const r=l.createObjectStore(B,{keyPath:"id"});r.createIndex("lastModified","lastModified"),r.createIndex("created","created")}}}),ve=async(a,e)=>{const o=await be();if(!o.objectStoreNames.contains(B))throw new Error("Database not properly initialized");return new Promise((t,l)=>{try{const r=o.transaction(B,"readwrite"),d=r.objectStore(B),u=d.get(a);u.onsuccess=()=>{const m=u.result,i=Date.now(),h={id:a,notebook:e,lastModified:i,created:(m==null?void 0:m.created)||i},g=d.put(h);g.onsuccess=()=>t(),g.onerror=()=>l(g.error)},u.onerror=()=>l(u.error),r.oncomplete=()=>o.close()}catch(r){l(r)}})},Yt=async a=>{const e=await be();if(!e.objectStoreNames.contains(B))throw new Error("Database not properly initialized");return new Promise((o,t)=>{try{const l=e.transaction(B,"readonly"),d=l.objectStore(B).get(a);d.onsuccess=()=>{const u=d.result;if(!u){t(new Error("Notebook not found"));return}o(u.notebook)},d.onerror=()=>t(d.error),l.oncomplete=()=>e.close()}catch(l){t(l)}})},oe=async()=>{const a=await be();if(!a.objectStoreNames.contains(B))throw new Error("Database not properly initialized");return new Promise((e,o)=>{try{const t=a.transaction(B,"readonly"),r=t.objectStore(B).getAll();r.onsuccess=()=>{const u=r.result.map(m=>{var i;return{id:m.id,title:((i=m.notebook.metadata)==null?void 0:i.title)||"Untitled Notebook",lastModified:new Date(m.lastModified),created:new Date(m.created)}});u.sort((m,i)=>i.created.getTime()-m.created.getTime()),e(u)},r.onerror=()=>o(r.error),t.oncomplete=()=>a.close()}catch(t){o(t)}})},Xt=async a=>{const e=await be();if(!e.objectStoreNames.contains(B))throw new Error("Database not properly initialized");return new Promise((o,t)=>{try{const l=e.transaction(B,"readwrite");l.objectStore(B).delete(a),l.oncomplete=()=>o(),l.onerror=()=>t(l.error)}catch(l){t(l)}})},Zt=async()=>{try{const a=await fetch("./templates/blank.ipynb");if(!a.ok)throw new Error(`Failed to load blank notebook template: ${a.statusText}`);const e=await a.json();return e.cells.forEach(o=>{o.id||(o.id=q())}),e}catch(a){throw new Error(`Failed to load blank notebook template: ${a instanceof Error?a.message:String(a)}`)}},Qt=async a=>new Promise((e,o)=>{const t=new FileReader;t.onload=async l=>{var r;try{const d=(r=l.target)==null?void 0:r.result,u=JSON.parse(d);if(!u.cells||!Array.isArray(u.cells))throw new Error("Invalid notebook format: missing or invalid cells array");u.metadata||(u.metadata={}),u.nbformat||(u.nbformat=4),u.nbformat_minor||(u.nbformat_minor=2),u.cells.forEach(i=>{i.id||(i.id=q()),i.metadata||(i.metadata={}),i.source||(i.source=[])}),u.metadata.title||(u.metadata.title=a.name.replace(".ipynb","")||"Imported Notebook");const m=q();await ve(m,u),e(m)}catch(d){o(new Error(`Failed to parse notebook file: ${d instanceof Error?d.message:String(d)}`))}},t.onerror=()=>{o(new Error("Failed to read the selected file"))},t.readAsText(a)}),eo=a=>{try{const e=new URL(a);return e.protocol==="http:"||e.protocol==="https:"}catch{return!1}},to=async a=>{if(!eo(a))throw new Error("Please enter a valid URL (must start with http:// or https://)");try{const e=await fetch(a);if(!e.ok)throw new Error(`Failed to fetch notebook: ${e.status} ${e.statusText}`);const o=await e.text(),t=JSON.parse(o);if(!t.cells||!Array.isArray(t.cells))throw new Error("Invalid notebook format: missing or invalid cells array");if(t.metadata||(t.metadata={}),t.nbformat||(t.nbformat=4),t.nbformat_minor||(t.nbformat_minor=2),t.cells.forEach(r=>{r.id||(r.id=q()),r.metadata||(r.metadata={}),r.source||(r.source=[])}),!t.metadata.title){const d=new URL(a).pathname.split("/").pop()||"imported-notebook.ipynb";t.metadata.title=d.replace(".ipynb","")||"Imported Notebook"}const l=q();return await ve(l,t),l}catch(e){throw e instanceof Error?e:new Error(`Failed to import notebook from URL: ${String(e)}`)}},oo=D({__name:"UrlInputDialog",props:{show:{type:Boolean}},emits:["cancel","submit"],setup(a,{emit:e}){const o=a,t=e,l=I(()=>ge[U.locale]),r=T(""),d=T(),u=T(""),m=()=>{const g=r.value.trim();if(!g){u.value=l.value.urlDialogInvalidUrl;return}try{const k=new URL(g);if(k.protocol!=="http:"&&k.protocol!=="https:"){u.value=l.value.urlDialogInvalidUrl;return}}catch{u.value=l.value.urlDialogInvalidUrl;return}u.value="",t("submit",g),r.value=""},i=()=>{t("cancel"),r.value="",u.value=""};O(()=>o.show,async g=>{var k;g&&(await De(),(k=d.value)==null||k.focus(),u.value="")});const h=g=>{g.key==="Enter"?(g.preventDefault(),m()):g.key==="Escape"&&(g.preventDefault(),i())};return O(r,()=>{u.value&&(u.value="")}),(g,k)=>(f(),$(Ue,{"model-value":g.show,"max-width":"500px",persistent:"",onKeydown:h},{default:c(()=>[n(F,null,{default:c(()=>[n(G,null,{default:c(()=>[S(_(l.value.urlDialogTitle),1)]),_:1}),n(P,null,{default:c(()=>[n(Q,{ref_key:"inputFieldRef",ref:d,modelValue:r.value,"onUpdate:modelValue":k[0]||(k[0]=y=>r.value=y),label:l.value.urlDialogLabel,"error-messages":u.value,variant:"outlined",density:"compact",placeholder:"https://example.com/notebook.ipynb",onKeydown:h},null,8,["modelValue","label","error-messages"])]),_:1}),n(me,null,{default:c(()=>[n(Ae),n(A,{color:"grey",variant:"text",onClick:i},{default:c(()=>[S(_(l.value.urlDialogCancel),1)]),_:1}),n(A,{color:"primary",variant:"text",onClick:m},{default:c(()=>[S(_(l.value.urlDialogOpen),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}}),ao={class:"notebook-index"},lo={class:"d-flex align-center mb-6 header-container"},ro={class:"text-h4 notebook-title flex-grow-1"},no={key:0,class:"text-center mt-8"},so=D({__name:"NotebookIndex",setup(a){const e=I(()=>ge[U.locale]),o=I(()=>fe[U.locale].direction==="rtl"),t=T([]),l=T(!1),r=T({show:!1,title:"",message:""});H(async()=>{try{const y=await oe();t.value=y}catch(y){console.error("Failed to load notebooks:",y)}});const d=async y=>{try{await Xt(y);const w=t.value.findIndex(p=>p.id===y);w>-1&&t.value.splice(w,1),console.log("Notebook deleted successfully:",y)}catch(w){console.error("Failed to delete notebook:",w)}},u=async()=>{try{console.log("Create blank notebook");const y=await Zt(),w=q();await ve(w,y),console.log("Created notebook with id:",w);const p=await oe();t.value=p}catch(y){console.error("Failed to create blank notebook:",y)}},m=async()=>{try{const y=document.createElement("input");y.type="file",y.accept=".ipynb",y.style.display="none",y.onchange=async w=>{var b;const p=(b=w.target.files)==null?void 0:b[0];if(!p){console.log("No file selected");return}try{const E=await Qt(p);console.log("Notebook imported successfully:",E);const M=await oe();t.value=M}catch(E){console.error("Failed to import notebook:",E),alert(`Failed to import notebook: ${E instanceof Error?E.message:"Unknown error"}`)}},document.body.appendChild(y),y.click(),document.body.removeChild(y)}catch(y){console.error("Failed to import notebook:",y),alert("Failed to import notebook. Please try again.")}},i=()=>{l.value=!0},h=async y=>{l.value=!1;try{console.log("Importing notebook from URL:",y);const w=await to(y);console.log("Notebook imported successfully:",w);const p=await oe();t.value=p}catch(w){console.error("Failed to import notebook from URL:",w),setTimeout(()=>{r.value={show:!0,title:e.value.urlDialogError,message:w instanceof Error?w.message:e.value.urlDialogErrorMessage}},150)}},g=()=>{l.value=!1},k=()=>{r.value.show=!1};return(y,w)=>(f(),N("div",ao,[n(pe,{fluid:"",class:"pa-4"},{default:c(()=>[v("div",lo,[v("h1",ro,_(e.value.title),1),n(et,null,{activator:c(({props:p})=>[n(A,Qe({color:"primary"},p,{"prepend-icon":o.value?void 0:"mdi-plus","append-icon":o.value?"mdi-plus":void 0}),{default:c(()=>[S(_(e.value.addNotebook),1)]),_:2},1040,["prepend-icon","append-icon"])]),default:c(()=>[n(tt,null,{default:c(()=>[n(re,{onClick:u},{default:c(()=>[n(ne,null,{default:c(()=>[S(_(e.value.blank),1)]),_:1})]),_:1}),n(re,{onClick:m},{default:c(()=>[n(ne,null,{default:c(()=>[S(_(e.value.fromFile),1)]),_:1})]),_:1}),n(re,{onClick:i},{default:c(()=>[n(ne,null,{default:c(()=>[S(_(e.value.fromUrl),1)]),_:1})]),_:1})]),_:1})]),_:1})]),n(Re,null,{default:c(()=>[(f(!0),N(te,null,de(t.value,p=>(f(),$(Fe,{key:p.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:c(()=>[n(Jt,{notebook:p,onDelete:d},null,8,["notebook"])]),_:2},1024))),128))]),_:1}),t.value.length===0?(f(),N("div",no,[n(R,{icon:"mdi-notebook-outline",size:"64",color:"grey"}),w[1]||(w[1]=v("p",{class:"text-h6 mt-4 text-medium-emphasis"},"No notebooks yet",-1)),w[2]||(w[2]=v("p",{class:"text-body-2 text-medium-emphasis"},"Create your first notebook to get started",-1))])):V("",!0)]),_:1}),n(oo,{show:l.value,onSubmit:h,onCancel:g},null,8,["show"]),n(Ue,{modelValue:r.value.show,"onUpdate:modelValue":w[0]||(w[0]=p=>r.value.show=p),"max-width":"400px"},{default:c(()=>[n(F,null,{default:c(()=>[n(G,null,{default:c(()=>[S(_(r.value.title),1)]),_:1}),n(P,null,{default:c(()=>[v("p",null,_(r.value.message),1)]),_:1}),n(me,null,{default:c(()=>[n(Ae),n(A,{color:"primary",variant:"text",onClick:k},{default:c(()=>[S(_(e.value.urlDialogCancel),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),io=z(so,[["__scopeId","data-v-32f10594"]]),co={cells:[],metadata:{},nbformat:4,nbformat_minor:2},L=Ie({content:{},updated:null,clear(){this.updated=null,this.content=co},findCell(a){return this.content.cells?this.content.cells.find(e=>e.id===a):null},getSource(a){const e=this.findCell(a);return e?e.source:null},getLocalizedSource(a,e){var d;const o=this.findCell(a);if(!o)return;let t=o.source;if(o.metadata.i18n&&o.metadata.i18n[e]&&(t=o.metadata.i18n[e]),!t)return;const l=(d=this.content.metadata)==null?void 0:d.globals;return l?t.map(u=>u.replace(/\{\{\s*(\w+)\s*\}\}/g,(m,i)=>{const h=l[i];if(!h)return m;const g=h[e]||h.default;return g===void 0?m:`${g}`})):t},setSource(a,e){const o=this.findCell(a);o&&(e=e.map(t=>t+`
`),o.source=e,this.updated=Date.now())},clearOutputs(a){const e=this.findCell(a);e&&(e.outputs=[],this.updated=Date.now())},getOutputTypes(a){var t,l,r;let e=[];const o=this.findCell(a);return o&&(((t=o.outputs)==null?void 0:t.findIndex(d=>d.output_type==="execute_result"))!==-1&&e.push("result"),((l=o.outputs)==null?void 0:l.findIndex(d=>d.output_type==="stream"&&d.name==="stdout"))!==-1&&e.push("stdout"),((r=o.outputs)==null?void 0:r.findIndex(d=>d.output_type==="error"))!==-1&&e.push("error")),e},addStdout(a,e){const o=this.findCell(a);if(o){o.outputs||(o.outputs=[]);const t=o.outputs.findIndex(l=>l.output_type==="stream"&&l.name==="stdout");t!==-1?(o.outputs[t].text||(o.outputs[t].text=[]),o.outputs[t].text.push(e)):o.outputs.push({output_type:"stream",name:"stdout",text:[e]}),this.updated=Date.now()}},getStdout(a){var t;let e="";const o=this.findCell(a);return o&&((t=o.outputs)==null||t.forEach(l=>{var r;l.output_type==="stream"&&(e+=((r=l.text)==null?void 0:r.join(""))||"")})),e},setResult(a,e){const o=this.findCell(a);if(o){o.outputs||(o.outputs=[]);const t=o.outputs.findIndex(l=>l.output_type==="execute_result");if(t!==-1){const l=o.outputs[t].data||{};o.outputs[t].data={...l,...e}}else o.outputs.push({output_type:"execute_result",data:e});this.updated=Date.now()}},getResult(a){var t;let e={};const o=this.findCell(a);return o&&((t=o.outputs)==null||t.forEach(l=>{l.output_type==="execute_result"&&l.data&&(e=l.data)})),e},setError(a,e){const o=this.findCell(a);if(o){o.outputs||(o.outputs=[]);const t=Array.isArray(e)?e:e.split(`
`);o.outputs.push({output_type:"error",traceback:t}),this.updated=Date.now()}},getError(a){var t;let e="";const o=this.findCell(a);return o&&((t=o.outputs)==null||t.forEach(l=>{var r;l.output_type==="error"&&(e+=((r=l.traceback)==null?void 0:r.join(""))||"")})),e},loadNotebook(a){a.cells&&(a.cells.forEach(e=>{(!e.id||typeof e.id!="string"||e.id.trim()==="")&&(e.id=q())}),this.content=a)},hasTag(a,e){const o=this.findCell(a);return!o||!o.metadata.tags?!1:o.metadata.tags.includes(e)},addTag(a,e){const o=this.findCell(a);o&&(o.metadata.tags||(o.metadata.tags=[]),o.metadata.tags.includes(e)||(o.metadata.tags.push(e),this.updated=Date.now()))},removeTag(a,e){const o=this.findCell(a);if(o&&o.metadata.tags){const t=o.metadata.tags.indexOf(e);t!==-1&&(o.metadata.tags.splice(t,1),this.updated=Date.now())}},toggleTag(a,e){this.hasTag(a,e)?this.removeTag(a,e):this.addTag(a,e)}}),uo=2e3,mo=2e3;function po(a){const e=T("idle"),o=T(null);let t=null;const l=async d=>{t&&clearTimeout(t),t=setTimeout(async()=>{try{console.log(`Auto-Save: Saving Notebook ${a}`),e.value="saving";const u=JSON.parse(JSON.stringify(d));await ve(a,u),e.value="saved",o.value=new Date,console.log(`Auto-Save: Saved Notebook ${a}`),setTimeout(()=>{e.value==="saved"&&(e.value="idle")},mo)}catch(u){console.error("Auto-Save: Failed:",u),e.value="error"}},uo)},r=O(()=>L.updated,()=>{var d;L.updated!=null&&L.content&&((d=L.content.cells)==null?void 0:d.length)>0&&l(L.content)});return{saveStatus:e,lastSaved:o,stopWatcher:r}}const fo=["innerHTML"],go=D({__name:"MarkdownCell",props:{cell:{},locale:{}},setup(a){const e=o=>o?$t.parse(o.join("")):"";return(o,t)=>(f(),$(F,{variant:"text","max-width":"800",class:"pt-2 pb-2 ma-auto"},{default:c(()=>[n(P,null,{default:c(()=>[v("div",{innerHTML:e(x(L).getLocalizedSource(o.cell.id,o.locale))},null,8,fo)]),_:1})]),_:1}))}}),C=Ie({executionStatus:"idle",workerStatus:"initializing",runningCellId:null,interruptBuffer:null,fatalErrorTrace:"",inputStatus:"idle",inputPrompt:null,userInput:null,setInterruptBuffer(a){this.interruptBuffer=a},clearInterruptBuffer(){this.interruptBuffer&&(this.interruptBuffer[0]=0)},interruptExecution(){this.interruptBuffer&&(this.interruptBuffer[0]=2),this.executionStatus="idle"},setWorkerStatus(a){this.workerStatus=a},executeCell(a){this.executionStatus==="idle"&&this.workerStatus==="ready"&&(this.runningCellId=a,this.executionStatus="queued")},executionCompleted(){this.runningCellId=null,this.executionStatus="idle"},setFatalError(a){this.workerStatus="error",this.fatalErrorTrace=a},requestUserInput(a){this.inputStatus="waiting",this.userInput=null,this.inputPrompt=a},submitUserInput(a){this.inputStatus="submitted",this.userInput=a}}),bo=D({__name:"CodeControls",props:{id:{}},setup(a){const e=a,o=()=>{L.clearOutputs(e.id),C.executeCell(e.id)},t=()=>{L.clearOutputs(e.id)},l=()=>{C.interruptExecution()},r=I(()=>L.hasTag(e.id,"hide_code")),d=()=>{L.toggleTag(e.id,"hide_code")};return(u,m)=>(f(),N("div",null,[v("div",null,[n(he,{rounded:"lg"},{default:c(()=>[n(A,{size:"32",icon:"mdi-play-outline",onClick:o,disabled:x(C).executionStatus!=="idle"||x(C).workerStatus!=="ready",loading:x(C).workerStatus!=="ready","aria-label":"Run code"},null,8,["disabled","loading"]),n(A,{size:"32",icon:"mdi-stop",onClick:l,disabled:x(C).executionStatus==="idle"||x(C).runningCellId!==u.id,"aria-label":"Stop code"},null,8,["disabled"])]),_:1}),n(he,{rounded:"lg",class:"pl-4"},{default:c(()=>[n(A,{size:"32",icon:"mdi-broom",onClick:t})]),_:1}),n(he,{rounded:"lg",class:"pl-2"},{default:c(()=>[n(A,{size:"32",icon:r.value?"mdi-eye-off":"mdi-eye",onClick:d,"aria-label":r.value?"Show code":"Hide code"},null,8,["icon","aria-label"])]),_:1})])]))}}),Oe="#2e3440",st="#3b4252",ze="#434c5e",ae="#4c566a",Le="#e5e9f0",$e="#eceff4",ye="#8fbcbb",je="#88c0d0",vo="#81a1c1",j="#5e81ac",ho="#bf616a",J="#d08770",we="#ebcb8b",He="#a3be8c",_o="#b48ead",We="#d30102",Me=$e,Ce=Me,ko="#ffffff",xe=Le,yo=Me,qe=st,wo=X.theme({"&":{color:Oe,backgroundColor:ko},".cm-content":{caretColor:qe,fontFamily:"JetBrainsMono, monospace"},".cm-cursor, .cm-dropCursor":{borderLeftColor:qe},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:yo},".cm-panels":{backgroundColor:Me,color:ae},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${ae}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:Le},".cm-activeLine":{backgroundColor:Ce},".cm-selectionMatch":{backgroundColor:Le},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${ae}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:$e},".cm-gutters":{backgroundColor:$e,color:Oe,border:"none"},".cm-activeLineGutter":{backgroundColor:Ce},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:xe},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:xe,borderBottomColor:xe},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Ce,color:ae}}},{dark:!1}),Co=lt.define([{tag:s.keyword,color:j},{tag:[s.name,s.deleted,s.character,s.propertyName,s.macroName],color:J},{tag:[s.variableName],color:J},{tag:[s.function(s.variableName)],color:j},{tag:[s.labelName],color:vo},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:j},{tag:[s.definition(s.name),s.separator],color:He},{tag:[s.brace],color:ye},{tag:[s.annotation],color:We},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:je},{tag:[s.typeName,s.className],color:we},{tag:[s.operator,s.operatorKeyword],color:He},{tag:[s.tagName],color:_o},{tag:[s.squareBracket],color:ho},{tag:[s.angleBracket],color:J},{tag:[s.attributeName],color:we},{tag:[s.regexp],color:j},{tag:[s.quote],color:st},{tag:[s.string],color:J},{tag:s.link,color:ye,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[s.url,s.escape,s.special(s.string)],color:J},{tag:[s.meta],color:je},{tag:[s.comment],color:ze,fontStyle:"italic"},{tag:s.strong,fontWeight:"bold",color:j},{tag:s.emphasis,fontStyle:"italic",color:j},{tag:s.strikethrough,textDecoration:"line-through"},{tag:s.heading,fontWeight:"bold",color:j},{tag:s.special(s.heading1),fontWeight:"bold",color:j},{tag:s.heading1,fontWeight:"bold",color:j},{tag:[s.heading2,s.heading3,s.heading4],fontWeight:"bold",color:j},{tag:[s.heading5,s.heading6],color:j},{tag:[s.atom,s.bool,s.special(s.variableName)],color:J},{tag:[s.processingInstruction,s.inserted],color:ye},{tag:[s.contentSeparator],color:we},{tag:s.invalid,color:ze,borderBottom:`1px dotted ${We}`}]),xo=[wo,rt(Co)],it="#2e3235",ct="#505d64",Te="#606f7a",ue="#707d8b",So="#a0a4ae",ie="#bdbdbd",Eo="#e0e0e0",No="#fdf6e3",K="#ff5f52",Lo="#ff6e40",$o="#fa5788",W="#facf4e",Je="#ffad42",Y="#56c8d8",To="#7186f0",Se="#cf6edf",Io="#6abf69",Ke="#99d066",Ge="#4ebaaa",Ye=K,Xe="#202325",le="#414b46",Do=it,Ee=ct,Vo=ct,Ze=So,Uo=X.theme({"&":{color:ie,backgroundColor:Do},".cm-content":{caretColor:Ze,fontFamily:"JetBrainsMono, monospace"},".cm-cursor, .cm-dropCursor":{borderLeftColor:Ze},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Vo},".cm-panels":{backgroundColor:Xe,color:ue},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{outline:`1px solid ${W}`,backgroundColor:"transparent"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:le},".cm-activeLine":{backgroundColor:le},".cm-selectionMatch":{backgroundColor:Xe,outline:`1px solid ${Ge}`},"&.cm-focused .cm-matchingBracket":{color:Eo,outline:`1px solid ${Ge}`},"&.cm-focused .cm-nonmatchingBracket":{color:K},".cm-gutters":{backgroundColor:it,borderRight:"1px solid #4f5b66",color:Te},".cm-activeLineGutter":{backgroundColor:le,color:No},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Ee},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Ee,borderBottomColor:Ee},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:le,color:ue}}},{dark:!0}),Ao=lt.define([{tag:s.keyword,color:Se},{tag:[s.name,s.deleted,s.character,s.macroName],color:Y},{tag:[s.propertyName],color:W},{tag:[s.variableName],color:ie},{tag:[s.function(s.variableName)],color:Y},{tag:[s.labelName],color:Se},{tag:[s.color,s.constant(s.name),s.standard(s.name)],color:W},{tag:[s.definition(s.name),s.separator],color:$o},{tag:[s.brace],color:Se},{tag:[s.annotation],color:Ye},{tag:[s.number,s.changed,s.annotation,s.modifier,s.self,s.namespace],color:Je},{tag:[s.typeName,s.className],color:Je},{tag:[s.operator,s.operatorKeyword],color:To},{tag:[s.tagName],color:Lo},{tag:[s.squareBracket],color:K},{tag:[s.angleBracket],color:Te},{tag:[s.attributeName],color:ie},{tag:[s.regexp],color:Ye},{tag:[s.quote],color:Io},{tag:[s.string],color:Ke},{tag:s.link,color:Y,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[s.url,s.escape,s.special(s.string)],color:W},{tag:[s.meta],color:ue},{tag:[s.comment],color:ue,fontStyle:"italic"},{tag:s.monospace,color:ie},{tag:s.strong,fontWeight:"bold",color:K},{tag:s.emphasis,fontStyle:"italic",color:Ke},{tag:s.strikethrough,textDecoration:"line-through"},{tag:s.heading,fontWeight:"bold",color:W},{tag:s.heading1,fontWeight:"bold",color:W},{tag:[s.heading2,s.heading3,s.heading4],fontWeight:"bold",color:W},{tag:[s.heading5,s.heading6],color:W},{tag:[s.atom,s.bool,s.special(s.variableName)],color:Y},{tag:[s.processingInstruction,s.inserted],color:K},{tag:[s.contentSeparator],color:Y},{tag:s.invalid,color:Te,borderBottom:`1px dotted ${K}`}]),Ro=[Uo,rt(Ao)],Fo=["id"],Bo=D({__name:"CodeEditor",props:{source:{},metadata:{},id:{},theme:{}},setup(a){const e=a;let o=null,t=!1;return H(()=>{let l=xo;switch(e.theme){case"dark":l=Ro;break}const r=Tt.create({doc:e.source?e.source.join(""):"",extensions:[Dt,It(),l,X.lineWrapping,X.updateListener.of(d=>{if(d.docChanged&&!t){const u=d.state.doc.toString();L.setSource(e.id,u.includes(`
`)?u.split(`
`):[u])}})]});o=new X({state:r,parent:document.getElementById("code-editor-"+e.id)})}),O(()=>e.source,l=>{if(o&&l&&!t){const r=o.state.doc.toString(),d=l.join(""),u=r.replace(/\n+$/,""),m=d.replace(/\n+$/,"");u!==m&&(t=!0,o.dispatch({changes:{from:0,to:o.state.doc.length,insert:d}}),t=!1)}},{deep:!0}),(l,r)=>(f(),N("div",{id:`code-editor-${e.id}`},null,8,Fo))}}),Mo=D({__name:"Console",props:{stdout:{}},setup(a){const e=a,o=T(null),t=()=>{if(!o.value)return;const u=`${(e.stdout?e.stdout.split(`
`).length:1)*1.2+1.5}em`;o.value.style.height=u};return O(()=>e.stdout,()=>{t()},{immediate:!0}),H(()=>{t()}),(l,r)=>(f(),N("textarea",{ref_key:"consoleRef",ref:o,class:"output-console",readonly:""},_(l.stdout),513))}}),Po=z(Mo,[["__scopeId","data-v-43c05e2b"]]),Oo={class:"output-console",readonly:""},zo=D({__name:"Error",props:{stderr:{}},setup(a){return(e,o)=>(f(),N("textarea",Oo,_(e.stderr),1))}}),jo=z(zo,[["__scopeId","data-v-62cb5501"]]),Ho=D({__name:"TextPlain",props:{value:{}},setup(a){const e=T(null);return(o,t)=>(f(),N("textarea",{ref_key:"consoleRef",ref:e,class:"output-console",readonly:""},_(Array.isArray(o.value)?o.value.join(""):o.value),513))}}),Wo=z(Ho,[["__scopeId","data-v-6e2abbc4"]]),qo=["src"],Jo=D({__name:"ImagePng",props:{value:{}},setup(a){return(e,o)=>(f(),N("img",{src:`data:image/png;base64,${e.value}`},null,8,qo))}}),Ko=["src"],Go=D({__name:"ImageSvg",props:{value:{}},setup(a){return(e,o)=>(f(),N("img",{src:`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e.value)}`},null,8,Ko))}}),Yo=D({__name:"Result",props:{value:{}},setup(a){return(e,o)=>(f(),N(te,null,[e.value["image/svg+xml"]?(f(),$(Go,{key:0,value:e.value["image/svg+xml"]},null,8,["value"])):V("",!0),e.value["image/png"]?(f(),$(Jo,{key:1,value:e.value["image/png"]},null,8,["value"])):V("",!0),e.value["text/plain"]?(f(),$(Wo,{key:2,value:e.value["text/plain"]},null,8,["value"])):V("",!0)],64))}});function Xo(a){if(!a)return[];const e=[];return a.forEach((o,t)=>{const r=o.replace(/\n$/,"").trim();if(!r||r.startsWith("#"))return;const d=r.match(/^(\w+)\s*=\s*(.+?)\s*#\s*@param(.*)$/);if(!d)return;const[,u,m,i]=d;try{const h=Zo(m),g=Qo(i.trim()),k=ea(h,g);e.push({name:u,value:h,type:k,config:g,lineNumber:t})}catch(h){console.warn(`Failed to parse parameter on line ${t+1}: ${o}`,h)}}),e}function Zo(a){const e=a.trim();if(e==="True")return!0;if(e==="False")return!1;if(e==="None")return null;const o=e.match(/^["'](.*)["']$/);return o?o[1]:e.match(/^-?\d+\.?\d*$/)?e.includes(".")?parseFloat(e):parseInt(e,10):e}function Qo(a){if(!a)return{};const e=a.match(/^\[(.+)\]$/);if(e)return{options:e[1].split(",").map(r=>{const d=r.trim(),u=d.match(/^["'](.*)["']$/);return u?u[1]:d})};const o=a.match(/^\{(.+)\}$/);if(o)try{const t=o[1],l={};return t.split(",").forEach(d=>{const[u,m]=d.split(":").map(i=>i.trim());if(u&&m){const i=u.replace(/["']/g,""),h=m.replace(/["']/g,"");i==="type"?l.type=h:(i==="min"||i==="max"||i==="step")&&(l[i]=parseFloat(h))}}),l}catch{return console.warn("Failed to parse config JSON:",a),{}}return{}}function ea(a,e){return e.type==="slider"?"slider":e.type==="boolean"?"boolean":e.options&&e.options.length>0?"dropdown":typeof a=="boolean"?"boolean":"value"}function ta(a,e,o){if(!a||e.lineNumber>=a.length)return a;const t=[...a],l=t[e.lineNumber],r=l.endsWith(`
`),u=l.replace(/\n$/,"").match(/^(\w+\s*=\s*)(.+?)(\s*#\s*@param.*)$/);if(u){const[,m,,i]=u,h=oa(o);t[e.lineNumber]=`${m}${h}${i}${r?`
`:""}`}return t}function oa(a){return typeof a=="boolean"?a?"True":"False":a==null?"None":typeof a=="string"?`"${a}"`:String(a)}const aa={key:0,class:"parameter-controls mb-4"},la={class:"parameter-grid"},ra={key:1,class:"slider-container"},na={class:"slider-layout"},sa={key:3,class:"boolean-container"},ia=D({__name:"ParameterControls",props:{source:{},cellId:{}},emits:["parameter-changed"],setup(a,{emit:e}){const o=a,t=e,l=I(()=>Xo(o.source)),r=(u,m)=>{if(!o.source)return;const i=ta(o.source,u,m);t("parameter-changed",i)},d=u=>u.name.replace(/_/g," ").toLowerCase().replace(/\b\w/g,m=>m.toUpperCase());return(u,m)=>l.value.length>0?(f(),N("div",aa,[n(F,{variant:"outlined",class:"pa-4"},{default:c(()=>[v("div",la,[(f(!0),N(te,null,de(l.value,i=>{var h,g,k,y;return f(),N("div",{key:i.name,class:"parameter-item"},[i.type==="value"?(f(),$(Q,{key:0,label:d(i),"model-value":i.value,"onUpdate:modelValue":w=>r(i,w),variant:"outlined",density:"compact","hide-details":""},null,8,["label","model-value","onUpdate:modelValue"])):i.type==="slider"?(f(),N("div",ra,[n(bt,{class:"text-caption mb-1"},{default:c(()=>[S(_(d(i)),1)]),_:2},1024),v("div",na,[n(vt,{"model-value":i.value,"onUpdate:modelValue":w=>r(i,w),min:((h=i.config)==null?void 0:h.min)??0,max:((g=i.config)==null?void 0:g.max)??100,step:((k=i.config)==null?void 0:k.step)??1,"thumb-label":"",class:"slider-control","hide-details":""},null,8,["model-value","onUpdate:modelValue","min","max","step"]),n(Q,{"model-value":i.value,readonly:"",variant:"outlined",density:"compact",class:"value-display","hide-details":""},null,8,["model-value"])])])):i.type==="dropdown"?(f(),$(Ne,{key:2,label:d(i),"model-value":i.value,"onUpdate:modelValue":w=>r(i,w),items:((y=i.config)==null?void 0:y.options)||[],variant:"outlined",density:"compact","hide-details":""},null,8,["label","model-value","onUpdate:modelValue","items"])):i.type==="boolean"?(f(),N("div",sa,[n(ht,{"model-value":i.value,"onUpdate:modelValue":w=>r(i,w),label:d(i),color:"primary","hide-details":"",inset:""},null,8,["model-value","onUpdate:modelValue","label"])])):V("",!0)])}),128))])]),_:1})])):V("",!0)}}),ca=z(ia,[["__scopeId","data-v-9ab33d5a"]]),ua=D({__name:"CodeCell",props:{cell:{},theme:{},locale:{}},setup(a){const e=a;let o=[];o=L.getOutputTypes(e.cell.id);const t=()=>{if(o.indexOf("result")!==-1)return"result";if(o.indexOf("stdout")!==-1)return"stdout";if(o.indexOf("error")!==-1)return"error"},l=T("result");O(()=>e.cell.outputs,()=>{o=L.getOutputTypes(e.cell.id),l.value="none",l.value=t()||l.value},{deep:!0});const r=u=>{const m=L.findCell(e.cell.id);m&&(m.source=u,L.updated=Date.now())},d=I(()=>L.hasTag(e.cell.id,"hide_code"));return(u,m)=>(f(),N("div",null,[n(ca,{source:x(L).getLocalizedSource(u.cell.id,e.locale),"cell-id":u.cell.id,onParameterChanged:r},null,8,["source","cell-id"]),n(F,{"max-width":"800",variant:"elevated",elevation:"2",color:"surface-light",class:"mb-2 pt-2 pb-2 ma-auto rounded-lg"},{default:c(()=>[d.value?V("",!0):(f(),$(P,{key:0},{default:c(()=>[n(Bo,{source:x(L).getLocalizedSource(u.cell.id,e.locale),id:u.cell.id,metadata:u.cell.metadata,theme:e.theme},null,8,["source","id","metadata","theme"])]),_:1})),n(me,{class:"pl-4 pr-4 d-flex justify-space-between"},{default:c(()=>[n(bo,{id:u.cell.id},null,8,["id"]),n(_t,{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=i=>l.value=i),class:"ml-auto"},{default:c(()=>[x(o).indexOf("result")!==-1?(f(),$(_e,{key:0,value:"result",icon:"",size:"32",rounded:"lg","min-width":"48"},{default:c(()=>[n(R,{icon:"mdi-monitor"})]),_:1})):V("",!0),x(o).indexOf("stdout")!==-1?(f(),$(_e,{key:1,value:"stdout",icon:"",size:"32","min-width":"48",rounded:"lg"},{default:c(()=>[n(R,{icon:"mdi-console"})]),_:1})):V("",!0),x(o).indexOf("error")!==-1?(f(),$(_e,{key:2,value:"error",icon:"",size:"32","min-width":"48",rounded:"lg"},{default:c(()=>[n(R,{icon:"mdi-alert-circle-outline"})]),_:1})):V("",!0)]),_:1},8,["modelValue"])]),_:1}),dt(n(P,null,{default:c(()=>[n(kt,{modelValue:l.value,"onUpdate:modelValue":m[1]||(m[1]=i=>l.value=i),direction:"vertical"},{default:c(()=>[n(ke,{value:"result"},{default:c(()=>[n(Yo,{value:x(L).getResult(u.cell.id)},null,8,["value"])]),_:1}),n(ke,{value:"stdout",direction:"vertical"},{default:c(()=>[n(Po,{stdout:x(L).getStdout(u.cell.id)},null,8,["stdout"])]),_:1}),n(ke,{value:"error",direction:"vertical"},{default:c(()=>[n(jo,{stderr:x(L).getError(u.cell.id)},null,8,["stderr"])]),_:1})]),_:1},8,["modelValue"])]),_:1},512),[[mt,e.cell.outputs?e.cell.outputs.length>0:!1]])]),_:1})]))}}),da={key:1,class:"video-container"},ma={key:0,class:"video-iframe-container"},pa=["src","width","height"],fa={key:1,class:"video-fallback"},ga={class:"text-body-2 mb-4"},ba={class:"text-caption mt-2 text-grey"},va={key:2,class:"video-player-container"},ha={key:2,class:"text-center pa-4"},_a=D({__name:"VideoCell",props:{cell:{},locale:{}},setup(a){const e=a,o=T(null),t=T(null),l=T(null),r=T(!1);T(!1);const d=p=>{const b=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/youtube\.com\/v\/([^&\n?#]+)/];for(const E of b){const M=p.match(E);if(M)return M[1]}return null},u=p=>{const b=[/vimeo\.com\/(\d+)/,/player\.vimeo\.com\/video\/(\d+)/];for(const E of b){const M=p.match(E);if(M)return M[1]}return null},m=p=>{const b=p.url,E=d(b);if(E)return{url:`https://www.youtube.com/embed/${E}`,provider:"youtube",isEmbed:!0};const M=u(b);return M?{url:`https://player.vimeo.com/video/${M}`,provider:"vimeo",isEmbed:!0}:{url:b,provider:"direct",isEmbed:!1}},i=()=>{try{const p=L.getLocalizedSource(e.cell.id,e.locale);if(!p||p.length===0)throw new Error("No video configuration found");const b=p.join("").trim(),E=JSON.parse(b);if(!E.url)throw new Error("Video URL is required");t.value={controls:!0,autoplay:!1,width:"100%",height:"auto",loop:!1,muted:!1,...E},l.value=m(E),o.value=null}catch(p){o.value=p instanceof Error?p.message:"Invalid video configuration",t.value=null,l.value=null}},h=I(()=>{if(!t.value||!l.value)return{};const p={controls:t.value.controls,autoplay:t.value.autoplay,loop:t.value.loop,muted:t.value.muted,fluid:!0,responsive:!0,playbackRates:[.5,1,1.25,1.5,2],plugins:{}};return t.value.poster&&(p.poster=t.value.poster),l.value.provider==="direct"&&(p.sources=[{src:l.value.url,type:"video/mp4"}]),p}),g=I(()=>{var p;return((p=l.value)==null?void 0:p.isEmbed)||!1}),k=I(()=>{if(!l.value||!t.value)return"";const p=new URL(l.value.url);return t.value.autoplay&&p.searchParams.set("autoplay","1"),t.value.controls||p.searchParams.set("controls","0"),t.value.loop&&p.searchParams.set("loop","1"),t.value.muted&&p.searchParams.set("muted","1"),p.toString()}),y=()=>{r.value=!0},w=()=>{var p;(p=t.value)!=null&&p.url&&window.open(t.value.url,"_blank")};return H(()=>{var p;i(),((p=l.value)==null?void 0:p.provider)==="vimeo"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&setTimeout(()=>{r.value||(r.value=!0)},2e3)}),(p,b)=>(f(),$(F,{variant:"text","max-width":"800",class:"pt-2 pb-2 ma-auto"},{default:c(()=>[n(P,null,{default:c(()=>[o.value?(f(),$(ee,{key:0,type:"error",variant:"tonal",text:o.value,class:"mb-4"},null,8,["text"])):t.value&&l.value?(f(),N("div",da,[g.value&&!r.value?(f(),N("div",ma,[v("iframe",{src:k.value,width:t.value.width,height:t.value.height==="auto"?"315":t.value.height,frameborder:"0",allowfullscreen:"",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",class:"video-iframe",onError:y},null,40,pa)])):g.value&&r.value?(f(),N("div",fa,[n(F,{variant:"outlined",class:"pa-6 text-center"},{default:c(()=>[n(R,{size:"64",color:"grey-darken-1",class:"mb-4"},{default:c(()=>b[0]||(b[0]=[S("mdi-video-off")])),_:1,__:[0]}),b[3]||(b[3]=v("h3",{class:"text-h6 mb-2"},"Video Embedding Restricted",-1)),v("p",ga,[S(" This "+_(l.value.provider)+" video cannot be embedded in this environment. ",1),b[1]||(b[1]=v("br",null,null,-1)),b[2]||(b[2]=S(" This is common when running on localhost due to CORS restrictions. "))]),n(A,{color:"primary",variant:"elevated",onClick:w,"prepend-icon":"mdi-open-in-new"},{default:c(()=>[S(" Watch on "+_(l.value.provider==="youtube"?"YouTube":"Vimeo"),1)]),_:1}),v("p",ba," URL: "+_(t.value.url),1)]),_:1,__:[3]})])):(f(),N("div",va,[n(x(Vt),{options:h.value,class:"video-player"},null,8,["options"])]))])):(f(),N("div",ha,[n(ce,{indeterminate:"",color:"primary"}),b[4]||(b[4]=v("p",{class:"mt-2 text-body-2"},"Loading video...",-1))]))]),_:1})]),_:1}))}}),ka=z(_a,[["__scopeId","data-v-e35261dc"]]);async function ya(a,e){var o;try{const t={model:a.model,messages:e,temperature:a.temperature??.7,stream:!1};a.max_tokens&&a.max_tokens!==-1&&(t.max_tokens=a.max_tokens),console.log("Sending request to:",a.url),console.log("Request body:",JSON.stringify(t,null,2));const l=await fetch(a.url,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});if(console.log("Response status:",l.status),console.log("Response headers:",l.headers),!l.ok){let u=`HTTP ${l.status}: ${l.statusText}`;try{u=((o=(await l.json()).error)==null?void 0:o.message)||u}catch{}throw new Error(u)}const r=await l.json();if(!r.choices||r.choices.length===0)throw new Error("No response choices returned from API");const d=r.choices[0].message;if(!d||!d.content)throw new Error("Invalid response format from API");return{role:"assistant",content:d.content}}catch(t){throw t instanceof TypeError&&t.message.includes("fetch")?new Error("Unable to connect to the AI service. Please check if LM Studio is running and accessible."):t instanceof Error?t:new Error("An unexpected error occurred while communicating with the AI service.")}}const wa={key:1,class:"chat-container"},Ca={class:"text-body-2"},xa={class:"message-role"},Sa={class:"message-content"},Ea={key:0,class:"message-wrapper assistant"},Na={class:"message-bubble assistant"},La={class:"message-content"},$a={key:1,class:"empty-chat"},Ta={class:"chat-input-area"},Ia={class:"chat-config-info mt-3"},Da={class:"config-chips"},Va={class:"chat-actions"},Ua={key:2,class:"text-center pa-4"},Aa=D({__name:"ChatCell",props:{cell:{},locale:{}},setup(a){const e=a,o=T(null),t=T(null),l=T(""),r=T(!1),d=T(),u=()=>{try{const p=L.getLocalizedSource(e.cell.id,e.locale);if(!p||p.length===0)throw new Error("No chat configuration found");const b=p.join("").trim(),E=JSON.parse(b);if(!E.url)throw new Error("Chat URL is required");if(!E.model)throw new Error("Model name is required");if(!E.messages||!Array.isArray(E.messages))throw new Error("Messages array is required");t.value={temperature:.7,max_tokens:-1,stream:!1,...E},o.value=null}catch(p){o.value=p instanceof Error?p.message:"Invalid chat configuration",t.value=null}},m=I(()=>t.value?t.value.messages.filter(p=>p.role!=="system"):[]),i=I(()=>t.value?t.value.messages.find(p=>p.role==="system"):null),h=async()=>{await De(),d.value&&(d.value.scrollTop=d.value.scrollHeight)},g=()=>{if(t.value)try{const b=JSON.stringify(t.value,null,2).split(`
`);L.setSource(e.cell.id,b)}catch(p){console.error("Failed to save chat configuration:",p)}},k=async()=>{if(!l.value.trim()||!t.value||r.value)return;const p={role:"user",content:l.value.trim()};t.value.messages.push(p);const b=l.value.trim();l.value="",g(),await h(),r.value=!0,o.value=null;try{const E=await ya(t.value,t.value.messages);t.value.messages.push(E),g(),await h()}catch(E){const M=E instanceof Error?E.message:"Failed to get response from AI";o.value=M,t.value.messages.pop(),g(),l.value=b}finally{r.value=!1}},y=()=>{t.value&&(t.value.messages=t.value.messages.filter(p=>p.role==="system"),g())},w=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),k())};return H(()=>{u()}),(p,b)=>(f(),$(F,{variant:"text","max-width":"800",class:"pt-2 pb-2 ma-auto"},{default:c(()=>[n(P,null,{default:c(()=>[o.value?(f(),$(ee,{key:0,type:"error",variant:"tonal",text:o.value,class:"mb-4"},null,8,["text"])):t.value?(f(),N("div",wa,[i.value?(f(),$(ee,{key:0,type:"info",variant:"tonal",density:"compact",class:"mb-4"},{default:c(()=>[b[1]||(b[1]=v("div",{class:"text-caption text-grey-darken-1 mb-1"},"System Message:",-1)),v("div",Ca,_(i.value.content),1)]),_:1,__:[1]})):V("",!0),v("div",{class:"chat-messages",ref_key:"messagesContainer",ref:d},[(f(!0),N(te,null,de(m.value,(E,M)=>(f(),N("div",{key:M,class:Z(["message-wrapper",E.role])},[v("div",{class:Z(["message-bubble",E.role])},[v("div",xa,_(E.role),1),v("div",Sa,_(E.content),1)],2)],2))),128)),r.value?(f(),N("div",Ea,[v("div",Na,[b[3]||(b[3]=v("div",{class:"message-role"},"assistant",-1)),v("div",La,[n(ce,{size:"16",width:"2",indeterminate:"",class:"mr-2"}),b[2]||(b[2]=S(" Thinking... "))])])])):V("",!0),m.value.length===0&&!r.value?(f(),N("div",$a,[n(R,{size:"48",color:"grey-lighten-1",class:"mb-2"},{default:c(()=>b[4]||(b[4]=[S("mdi-chat-outline")])),_:1,__:[4]}),b[5]||(b[5]=v("p",{class:"text-body-2 text-grey"},"Start a conversation...",-1))])):V("",!0)],512),v("div",Ta,[n(Q,{modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=E=>l.value=E),placeholder:"Type your message...",variant:"outlined",density:"comfortable","hide-details":"",disabled:r.value,onKeypress:w,class:"chat-input"},{"append-inner":c(()=>[n(A,{icon:"mdi-send",size:"small",color:"primary",variant:"text",disabled:!l.value.trim()||r.value,onClick:k},null,8,["disabled"])]),_:1},8,["modelValue","disabled"])]),v("div",Ia,[v("div",Da,[n(se,{size:"small",variant:"outlined",class:"mr-2"},{default:c(()=>[n(R,{start:""},{default:c(()=>b[6]||(b[6]=[S("mdi-server")])),_:1,__:[6]}),S(" "+_(t.value.model),1)]),_:1}),n(se,{size:"small",variant:"outlined",class:"mr-2"},{default:c(()=>[n(R,{start:""},{default:c(()=>b[7]||(b[7]=[S("mdi-thermometer")])),_:1,__:[7]}),S(" T: "+_(t.value.temperature),1)]),_:1}),n(se,{size:"small",variant:"outlined",class:"mr-2"},{default:c(()=>[n(R,{start:""},{default:c(()=>b[8]||(b[8]=[S("mdi-counter")])),_:1,__:[8]}),S(" Max: "+_(t.value.max_tokens===-1?"∞":t.value.max_tokens),1)]),_:1})]),v("div",Va,[m.value.length>0?(f(),$(A,{key:0,size:"small",variant:"outlined",color:"warning","prepend-icon":"mdi-broom",onClick:y,disabled:r.value},{default:c(()=>b[9]||(b[9]=[S(" Clear Chat ")])),_:1,__:[9]},8,["disabled"])):V("",!0)])])])):(f(),N("div",Ua,[n(ce,{indeterminate:"",color:"primary"}),b[10]||(b[10]=v("p",{class:"mt-2 text-body-2"},"Loading chat...",-1))]))]),_:1})]),_:1}))}}),Ra=z(Aa,[["__scopeId","data-v-c46743dc"]]),Fa=D({__name:"PyodideProvider",props:{notebookId:{},locale:{}},setup(a){const e=a;let o;return H(async()=>{console.log("PyodideProvider: Starting new worker for "+e.notebookId),C.setWorkerStatus("initializing"),o=new Worker(new URL("/k12nb/assets/PyodideWorker-DgXpL33i.js",import.meta.url),{type:"module"}),o.postMessage({type:"initialize"}),o.onmessage=async t=>{const{type:l,text:r,result:d,message:u,error:m,interruptBuffer:i}=t.data;switch(l){case"initialized":console.log("PyodideProvider: Pyodide is initialized"),C.setWorkerStatus("ready"),i&&(C.setInterruptBuffer(new Int32Array(i)),console.log("PyodideProvider: Set Interrupt Buffer"));break;case"stdout":C.runningCellId&&L.addStdout(C.runningCellId,r);break;case"input_request":C.requestUserInput(u);break;case"execute_result":C.runningCellId&&d&&L.setResult(C.runningCellId,d);break;case"execute_completed":C.executionCompleted();break;case"error":C.runningCellId&&L.setError(C.runningCellId,m),C.executionCompleted();break;case"fatal":C.setFatalError(m);break}}}),Ve(async()=>{console.log("PyodideProvider: Terminating worker."),C.setWorkerStatus("terminating"),o.terminate()}),O(()=>C.executionStatus,t=>{if(t==="queued"&&C.runningCellId!=null){const l=L.getLocalizedSource(C.runningCellId,e.locale);o.postMessage({type:"run",cellId:C.runningCellId,code:l==null?void 0:l.join("")})}}),O(()=>C.inputStatus,t=>{t==="submitted"&&o.postMessage({type:"input_response",value:C.userInput})}),(t,l)=>pt(t.$slots,"default")}}),Ba=D({__name:"InputDialog",props:{locale:{}},setup(a){const e=a,o=I(()=>nt[e.locale||"en-US"]),t=T(""),l=T(),r=I({get:()=>C.inputStatus==="waiting",set:i=>{i||(C.inputStatus="idle")}}),d=()=>{C.submitUserInput(t.value),t.value=""},u=()=>{C.submitUserInput(""),t.value=""};O(()=>r.value,async i=>{var h;i&&(await De(),(h=l.value)==null||h.focus())});const m=i=>{i.key==="Enter"?(i.preventDefault(),d()):i.key==="Escape"&&(i.preventDefault(),u())};return(i,h)=>(f(),$(Ue,{modelValue:r.value,"onUpdate:modelValue":h[1]||(h[1]=g=>r.value=g),"max-width":"400px",persistent:"",onKeydown:m},{default:c(()=>[n(F,null,{default:c(()=>[n(G,null,{default:c(()=>[S(_(x(C).inputPrompt||o.value.inputDialogTitle),1)]),_:1}),n(P,null,{default:c(()=>[n(Q,{ref_key:"inputFieldRef",ref:l,modelValue:t.value,"onUpdate:modelValue":h[0]||(h[0]=g=>t.value=g),label:o.value.inputDialogLabel,variant:"outlined",density:"compact",onKeydown:m},null,8,["modelValue","label"])]),_:1}),n(me,null,{default:c(()=>[n(Ae),n(A,{color:"grey",variant:"text",onClick:u},{default:c(()=>[S(_(o.value.inputDialogCancel),1)]),_:1}),n(A,{color:"primary",variant:"text",onClick:d},{default:c(()=>[S(_(o.value.inputDialogSubmit),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Ma={class:"renderer-container"},Pa=D({__name:"Renderer",props:{id:{},initialNotebook:{},theme:{},locale:{}},setup(a){const e=a,o=I(()=>nt[e.locale]);return H(()=>{L.loadNotebook(e.initialNotebook)}),O(()=>e.initialNotebook,t=>{L.loadNotebook(t)}),(t,l)=>(f(),$(Fa,{notebookId:t.id,locale:e.locale},{default:c(()=>[v("div",Ma,[n(Pe,null,{default:c(()=>[x(C).workerStatus=="initializing"?(f(),$(ee,{key:0,text:o.value.notebookStarting,type:"info",variant:"tonal",density:"compact"},null,8,["text"])):V("",!0)]),_:1}),n(Pe,null,{default:c(()=>[x(C).workerStatus=="error"?(f(),$(ee,{key:0,text:`${o.value.notebookStartError} ${x(C).fatalErrorTrace}`,type:"error",variant:"tonal",density:"compact"},null,8,["text"])):V("",!0)]),_:1}),(f(!0),N(te,null,de(x(L).content.cells,r=>{var d,u;return f(),N("div",null,[r.cell_type==="markdown"?(f(),$(x(go),{key:0,cell:r,metadata:r.metadata,locale:e.locale},null,8,["cell","metadata","locale"])):V("",!0),r.cell_type==="code"?(f(),$(x(ua),{key:1,cell:r,theme:e.theme,locale:e.locale},null,8,["cell","theme","locale"])):V("",!0),r.cell_type==="raw"&&((d=r.metadata.tags)!=null&&d.includes("video"))?(f(),$(x(ka),{key:2,cell:r,locale:e.locale},null,8,["cell","locale"])):V("",!0),r.cell_type==="raw"&&((u=r.metadata.tags)!=null&&u.includes("chat"))?(f(),$(x(Ra),{key:3,cell:r,locale:e.locale},null,8,["cell","locale"])):V("",!0)])}),256))]),n(Ba,{locale:e.locale},null,8,["locale"])]),_:1},8,["notebookId","locale"]))}}),Oa={class:"notebook"},za={class:"d-flex align-center mb-6 notebook-header"},ja={class:"d-flex align-center flex-grow-1"},Ha={class:"text-h4 notebook-title"},Wa={key:1,class:"loading"},qa={class:"text-center"},Ja={class:"text-h5 mb-2"},Ka={class:"text-body-1 text-medium-emphasis mb-4"},Ga=D({__name:"Notebook",setup(a){const e=at(),o=Be(),t=I(()=>ge[U.locale]),l=I(()=>fe[U.locale].direction==="rtl"),r=I(()=>e.params.id),d=T(null),u=T(!0),m=T(null),{saveStatus:i,stopWatcher:h}=po(r.value);H(async()=>{try{u.value=!0,m.value=null,d.value=await Yt(r.value)}catch(k){console.error("Failed to load notebook:",k),m.value=k instanceof Error?k.message:"Failed to load notebook"}finally{u.value=!1}});const g=()=>{o.push("/notebooks")};return Ve(()=>{L.clear(),h()}),(k,y)=>(f(),N("div",Oa,[n(pe,{fluid:"",class:"pa-4"},{default:c(()=>{var w,p;return[v("div",za,[v("div",ja,[n(A,{icon:l.value?"mdi-arrow-right":"mdi-arrow-left",variant:"text",onClick:g,class:Z(l.value?"ms-3":"me-3")},null,8,["icon","class"]),v("h1",Ha,_(((p=(w=d.value)==null?void 0:w.metadata)==null?void 0:p.title)||t.value.untitledNotebook),1)]),x(i)!=="idle"?(f(),$(se,{key:0,color:x(i)==="saved"?"success":x(i)==="saving"?"info":"error",size:"small",variant:"tonal"},{default:c(()=>[n(R,{icon:x(i)==="saved"?"mdi-check":x(i)==="saving"?"mdi-loading":"mdi-alert",class:Z([{"mdi-spin":x(i)==="saving"},"me-1"]),size:"small"},null,8,["icon","class"]),S(" "+_(x(i)==="saved"?t.value.saved:x(i)==="saving"?t.value.saving:t.value.saveError),1)]),_:1},8,["color"])):V("",!0)]),d.value&&!u.value&&!m.value?(f(),$(Pa,{key:0,"initial-notebook":d.value,id:r.value,theme:x(U).theme,locale:x(U).locale},null,8,["initial-notebook","id","theme","locale"])):u.value?(f(),N("div",Wa,[n(ce,{indeterminate:"",color:"primary"}),v("p",null,_(t.value.loadingNotebook),1)])):m.value?(f(),$(F,{key:2,class:"pa-6"},{default:c(()=>[v("div",qa,[n(R,{icon:"mdi-alert-circle",size:"64",color:"error",class:"mb-4"}),v("h2",Ja,_(t.value.failedToLoad),1),v("p",Ka,_(m.value),1),n(A,{color:"primary",onClick:g},{default:c(()=>[S(_(t.value.backToNotebooks),1)]),_:1})])]),_:1})):V("",!0)]}),_:1})]))}}),Ya=z(Ga,[["__scopeId","data-v-226b97bd"]]),Xa={class:"curriculum-view"},Za=D({__name:"Curriculum",setup(a){return(e,o)=>(f(),N("div",Xa,[n(pe,null,{default:c(()=>[n(Re,null,{default:c(()=>[n(Fe,{cols:"12"},{default:c(()=>[o[1]||(o[1]=v("h1",{class:"text-h4 mb-4"},"Curriculum",-1)),n(F,null,{default:c(()=>[n(P,null,{default:c(()=>o[0]||(o[0]=[v("p",{class:"text-body-1"}," Curriculum content will be implemented here. This section will contain educational materials, lessons, and structured learning paths. ",-1)])),_:1,__:[0]})]),_:1})]),_:1,__:[1]})]),_:1})]),_:1})]))}}),Qa=z(Za,[["__scopeId","data-v-4427f550"]]),el={class:"settings-view"},tl={class:"text-h4 mb-4 settings-title"},ol={class:"text-body-1"},al={class:"text-body-2 text-medium-emphasis"},ll=D({__name:"Settings",setup(a){const e=ot(),o=T(U.theme),t=T(U.locale),l=I(()=>Mt.map(i=>({title:Rt[U.locale][i],value:i}))),r=Ut.map(i=>({title:fe[i].name,value:i})),d=I(()=>Bt[U.locale]);H(()=>{e.global.name.value=U.theme}),O(o,i=>{e.global.name.value=i});const u=i=>{U.setTheme(i),o.value=i},m=i=>{U.setLocale(i),t.value=i};return(i,h)=>(f(),N("div",el,[n(pe,null,{default:c(()=>[n(Re,null,{default:c(()=>[n(Fe,{cols:"12"},{default:c(()=>[v("h1",tl,_(d.value.title),1),n(F,{class:"mb-4"},{default:c(()=>[n(G,null,{default:c(()=>[S(_(d.value.appearance),1)]),_:1}),n(P,null,{default:c(()=>[n(Ne,{modelValue:o.value,"onUpdate:modelValue":[h[0]||(h[0]=g=>o.value=g),u],items:l.value,label:d.value.theme,"item-title":"title","item-value":"value"},null,8,["modelValue","items","label"])]),_:1})]),_:1}),n(F,{class:"mb-4"},{default:c(()=>[n(G,null,{default:c(()=>[S(_(d.value.language),1)]),_:1}),n(P,null,{default:c(()=>[n(Ne,{modelValue:t.value,"onUpdate:modelValue":[h[1]||(h[1]=g=>t.value=g),m],items:x(r),label:d.value.language,"item-title":"title","item-value":"value"},null,8,["modelValue","items","label"])]),_:1})]),_:1}),n(F,null,{default:c(()=>[n(G,null,{default:c(()=>[S(_(d.value.about),1)]),_:1}),n(P,null,{default:c(()=>[v("p",ol,_(d.value.appName),1),v("p",al,_(d.value.version)+" 0.1.0 ",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}}),rl=z(ll,[["__scopeId","data-v-b8e54928"]]),nl=[{path:"/",redirect:"notebooks"},{path:"/notebooks",name:"notebooks",component:io},{path:"/notebooks/:id",name:"notebook",component:Ya},{path:"/curriculum",name:"curriculum",component:Qa},{path:"/settings",name:"settings",component:rl}],sl=Nt({history:Lt("/k12nb/"),routes:nl}),il={class:"content-container"},cl=D({__name:"BaseLayout",setup(a){const e=()=>{const g=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${g}px`)},o=Be(),t=at(),l={"/notebooks":0,"/curriculum":1,"/settings":2},r={0:"/notebooks",1:"/curriculum",2:"/settings"},d=I({get:()=>l[t.path]??0,set:g=>{const k=r[g];k&&t.path!==k&&o.push(k)}}),u=ot(),m=I(()=>Ft[U.locale]),i=I(()=>fe[U.locale].direction),h=I(()=>U.locale);return O([i,h],([g,k])=>{document.documentElement.dir=g,document.documentElement.lang=k},{immediate:!0}),H(()=>{u.global.name.value=U.theme,document.documentElement.dir=i.value,document.documentElement.lang=h.value,e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e)}),Ve(()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}),(g,k)=>{const y=ft("router-view");return f(),$(yt,null,{default:c(()=>[n(wt,null,{default:c(()=>[v("div",il,[n(y)])]),_:1}),n(Ct,{modelValue:d.value,"onUpdate:modelValue":k[0]||(k[0]=w=>d.value=w),color:"primary",grow:"",class:Z({"rtl-navigation":i.value==="rtl"})},{default:c(()=>[n(A,{value:"0"},{default:c(()=>[n(R,null,{default:c(()=>k[1]||(k[1]=[S("mdi-notebook")])),_:1,__:[1]}),v("span",null,_(m.value.notebooks),1)]),_:1}),n(A,{value:"1"},{default:c(()=>[n(R,null,{default:c(()=>k[2]||(k[2]=[S("mdi-school")])),_:1,__:[2]}),v("span",null,_(m.value.curriculum),1)]),_:1}),n(A,{value:"2"},{default:c(()=>[n(R,null,{default:c(()=>k[3]||(k[3]=[S("mdi-cog")])),_:1,__:[3]}),v("span",null,_(m.value.settings),1)]),_:1})]),_:1},8,["modelValue","class"])]),_:1})}}}),ul=z(cl,[["__scopeId","data-v-77271b7e"]]),dl=D({__name:"App",setup(a){return(e,o)=>(f(),$(ul))}}),ml=xt({theme:{defaultTheme:"dark",themes:{light:{colors:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}},dark:{colors:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}},icons:{defaultSet:"mdi",aliases:Et,sets:{mdi:St}}});gt(dl).use(ml).use(sl).mount("#app");
