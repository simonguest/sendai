import"./modulepreload-polyfill-B5Qt9EMX.js";class l{constructor(){this.deviceSelect=document.getElementById("device-select"),this.deviceContainer=document.getElementById("device-container"),this.currentDevice="phone-portrait",this.init()}init(){this.updateIframeSources(),this.deviceSelect.addEventListener("change",t=>{this.switchDevice(t.target.value)}),window.addEventListener("resize",()=>{this.updateScale()}),this.updateScale(),this.switchDevice(this.currentDevice)}updateIframeSources(){const e=new URLSearchParams(window.location.search).toString(),i="index.html",n=e?`${i}?${e}`:i,s=document.getElementById("app-iframe"),c=document.getElementById("app-iframe-tablet");s&&(s.src=n),c&&(c.src=n),e&&console.log("Emulator: Passing URL parameters to iframes:",e)}switchDevice(t){const e=document.getElementById(this.currentDevice),i=document.getElementById(t);!i||t===this.currentDevice||(e&&e.classList.add("switching-out"),setTimeout(()=>{e&&(e.style.display="none",e.classList.remove("switching-out")),i.style.display="block",i.classList.add("switching-in"),this.currentDevice=t,setTimeout(()=>{i.classList.remove("switching-in")},400),this.updateScale()},200))}updateScale(){const t=this.deviceContainer,e=document.getElementById(this.currentDevice);if(!e)return;t.getBoundingClientRect(),e.getBoundingClientRect();const i=window.innerWidth-100,n=window.innerHeight-200,s=this.getDeviceWidth(this.currentDevice),c=this.getDeviceHeight(this.currentDevice),r=i/s,o=n/c;let h=Math.min(r,o,1);h=Math.max(h,.3),t.style.transform=`scale(${h})`;const d=c*h;t.style.minHeight=`${d}px`}getDeviceWidth(t){switch(t){case"phone-portrait":return 420;case"tablet-landscape":return 1064;default:return 420}}getDeviceHeight(t){switch(t){case"phone-portrait":return 760;case"tablet-landscape":return 808;default:return 760}}refreshContent(){document.querySelectorAll("iframe").forEach(e=>{e.src=e.src})}getCurrentDeviceInfo(){return{type:this.currentDevice,width:this.getDeviceWidth(this.currentDevice),height:this.getDeviceHeight(this.currentDevice),screenWidth:this.currentDevice==="phone-portrait"?400:1024,screenHeight:this.currentDevice==="phone-portrait"?740:768}}}document.addEventListener("DOMContentLoaded",()=>{const a=new l;window.mobileEmulator=a;let t=0,e=0;document.addEventListener("touchstart",i=>{t=i.touches[0].clientY,e=i.touches[0].clientX}),document.addEventListener("touchend",i=>{if(!t||!e)return;const n=i.changedTouches[0].clientY,s=i.changedTouches[0].clientX,c=t-n,r=e-s;if(Math.abs(r)>Math.abs(c)&&Math.abs(r)>50){const o=a.currentDevice;r>0&&o==="phone-portrait"?(document.getElementById("device-select").value="tablet-landscape",a.switchDevice("tablet-landscape")):r<0&&o==="tablet-landscape"&&(document.getElementById("device-select").value="phone-portrait",a.switchDevice("phone-portrait"))}t=0,e=0})});
